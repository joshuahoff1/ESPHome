- trigger:
    - trigger: time_pattern
      hours: "/6" #every quarter day
  action:
    action: calendar.get_events
    data:
      duration:
        hours: 168 #1 week
        minutes: 0
        seconds: 0
    target:
      entity_id: calendar.philiph1352000_gmail_com
    response_variable: cal_week

  sensor:
    - name: weekly calendar
      state: "OK"
      attributes:
        event_start_0: >
          {% set event_start_0        = cal_week['calendar.philiph1352000_gmail_com'].events[0].start %} 
          {{ event_start_0 }}
        event_end_0: >
          {% set event_end_0        = cal_week['calendar.philiph1352000_gmail_com'].events[0].end %} 
          {{ event_end_0 }}
        event_title_0: >
          {% set event_title_0        = cal_week['calendar.philiph1352000_gmail_com'].events[0].summary %} 
          {{ event_title_0 }}
        event_start_1: >
          {% set event_start_1        = cal_week['calendar.philiph1352000_gmail_com'].events[1].start %} 
          {{ event_start_1 }}
        event_end_1: >
          {% set event_end_1        = cal_week['calendar.philiph1352000_gmail_com'].events[1].end %} 
          {{ event_end_1 }}
        event_title_1: >
          {% set event_title_1        = cal_week['calendar.philiph1352000_gmail_com'].events[1].summary %} 
          {{ event_title_1 }}
